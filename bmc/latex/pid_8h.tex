\doxysection{ha\+\_\+energy/pid.h File Reference}
\hypertarget{pid_8h}{}\label{pid_8h}\index{ha\_energy/pid.h@{ha\_energy/pid.h}}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pid_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structSPid}{SPid}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
double \mbox{\hyperlink{pid_8h_a645e907ddaa465c826a196abb2044981}{Update\+PI}} (volatile struct \mbox{\hyperlink{structSPid}{SPid}} \texorpdfstring{$\ast$}{*}const, const double)
\item 
void \mbox{\hyperlink{pid_8h_a4942e19ff67ab179fa2f4e5977290613}{Reset\+PI}} (volatile struct \mbox{\hyperlink{structSPid}{SPid}} \texorpdfstring{$\ast$}{*}const)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{pid_8h_a4942e19ff67ab179fa2f4e5977290613}\index{pid.h@{pid.h}!ResetPI@{ResetPI}}
\index{ResetPI@{ResetPI}!pid.h@{pid.h}}
\doxysubsubsection{\texorpdfstring{ResetPI()}{ResetPI()}}
{\footnotesize\ttfamily \label{pid_8h_a4942e19ff67ab179fa2f4e5977290613} 
void Reset\+PI (\begin{DoxyParamCaption}\item[{volatile struct \mbox{\hyperlink{structSPid}{SPid}} \texorpdfstring{$\ast$}{*} const}]{pid}{}\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00031\ \ \ \ \ pid-\/>dState\ =\ 0.0;\ \textcolor{comment}{//\ not\ used\ but\ cleared}}
\DoxyCodeLine{00032\ \ \ \ \ pid-\/>iState\ =\ 0.0;}
\DoxyCodeLine{00033\ \}}

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=338pt]{pid_8h_a4942e19ff67ab179fa2f4e5977290613_icgraph}
\end{center}
\end{figure}
\Hypertarget{pid_8h_a645e907ddaa465c826a196abb2044981}\index{pid.h@{pid.h}!UpdatePI@{UpdatePI}}
\index{UpdatePI@{UpdatePI}!pid.h@{pid.h}}
\doxysubsubsection{\texorpdfstring{UpdatePI()}{UpdatePI()}}
{\footnotesize\ttfamily \label{pid_8h_a645e907ddaa465c826a196abb2044981} 
double Update\+PI (\begin{DoxyParamCaption}\item[{volatile struct \mbox{\hyperlink{structSPid}{SPid}} \texorpdfstring{$\ast$}{*} const}]{pid}{, }\item[{const double}]{error}{}\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00006\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00007\ \ \ \ \ \textcolor{keywordtype}{double}\ pTerm,\ iTerm;}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \ \ \ \ pTerm\ =\ pid-\/>pGain\ *\ error;\ \textcolor{comment}{//\ calculate\ the\ proportional\ term}}
\DoxyCodeLine{00010\ \ \ \ \ \textcolor{comment}{//\ calculate\ the\ integral\ state\ with\ appropriate\ limiting}}
\DoxyCodeLine{00011\ \ \ \ \ pid-\/>iState\ +=\ error;}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \ \ \ \ \textcolor{keywordflow}{if}\ (pid-\/>iState\ >\ pid-\/>iMax)\ \{}
\DoxyCodeLine{00014\ \ \ \ \ \ \ \ \ pid-\/>iState\ =\ pid-\/>iMax;}
\DoxyCodeLine{00015\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pid-\/>iState\ <\ pid-\/>iMin)\ \{}
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ pid-\/>iState\ =\ pid-\/>iMin;}
\DoxyCodeLine{00017\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \ \ \ \ \}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \ \ \ \ iTerm\ =\ (pid-\/>iGain\ *\ pid-\/>iState);\ \textcolor{comment}{//\ calculate\ the\ integral\ term}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keywordflow}{if}\ ((pTerm\ +\ iTerm)\ >\ pid-\/>iMax)\ \{}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ iTerm\ =\ 0.0f;}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ pTerm\ =\ pid-\/>iMax;}
\DoxyCodeLine{00026\ \ \ \ \ \}}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keywordflow}{return}\ pTerm\ +\ iTerm;}
\DoxyCodeLine{00028\ \}}

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=346pt]{pid_8h_a645e907ddaa465c826a196abb2044981_icgraph}
\end{center}
\end{figure}
