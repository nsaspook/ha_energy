\doxysection{ha\+\_\+energy/http\+\_\+vars.c File Reference}
\hypertarget{http__vars_8c}{}\label{http__vars_8c}\index{ha\_energy/http\_vars.c@{ha\_energy/http\_vars.c}}
{\ttfamily \#include "{}http\+\_\+vars.\+h"{}}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
Include dependency graph for http\+\_\+vars.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{http__vars_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{http__vars_8c_adbf9cd5b8ee26136ef6d0b4f954e64be}{iammeter\+\_\+get\+\_\+data}} (const double, const uint32\+\_\+t, const uint32\+\_\+t)
\item 
bool \mbox{\hyperlink{http__vars_8c_addadf78316d3819a2b8fc271ffd97fc9}{mqtt\+\_\+gti\+\_\+time}} (MQTTClient, const char \texorpdfstring{$\ast$}{*}, char \texorpdfstring{$\ast$}{*})
\item 
size\+\_\+t \mbox{\hyperlink{http__vars_8c_aabb25f42dea94453d721073f265c0063}{iammeter\+\_\+write\+\_\+callback}} (char \texorpdfstring{$\ast$}{*}buffer, size\+\_\+t size, size\+\_\+t nitems, void \texorpdfstring{$\ast$}{*}stream)
\item 
void \mbox{\hyperlink{http__vars_8c_a34d485627939300ea5e51b765f599b9a}{iammeter\+\_\+read}} (void)
\item 
void \mbox{\hyperlink{http__vars_8c_a8b0aebb679cfaa2c1c7f70e477e396a5}{print\+\_\+im\+\_\+vars}} (void)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static CURL \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{http__vars_8c_a6a59594ba3469ec6a1d56f6631e275e0}{curl}}
\item 
static CURLcode \mbox{\hyperlink{http__vars_8c_acf1ea240303dba3184f1f87a13202862}{res}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{http__vars_8c_adbf9cd5b8ee26136ef6d0b4f954e64be}\index{http\_vars.c@{http\_vars.c}!iammeter\_get\_data@{iammeter\_get\_data}}
\index{iammeter\_get\_data@{iammeter\_get\_data}!http\_vars.c@{http\_vars.c}}
\doxysubsubsection{\texorpdfstring{iammeter\_get\_data()}{iammeter\_get\_data()}}
{\footnotesize\ttfamily \label{http__vars_8c_adbf9cd5b8ee26136ef6d0b4f954e64be} 
void iammeter\+\_\+get\+\_\+data (\begin{DoxyParamCaption}\item[{const double}]{valuedouble}{, }\item[{const uint32\+\_\+t}]{i}{, }\item[{const uint32\+\_\+t}]{j}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00103\ \{}
\DoxyCodeLine{00104\ \ \ \ \ \mbox{\hyperlink{energy_8c_aae3805c63e28abac1e41ffd7b623596e}{E}}.im\_vars[i][j]\ =\ valuedouble;}
\DoxyCodeLine{00105\ \}}

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{http__vars_8c_adbf9cd5b8ee26136ef6d0b4f954e64be_icgraph}
\end{center}
\end{figure}
\Hypertarget{http__vars_8c_a34d485627939300ea5e51b765f599b9a}\index{http\_vars.c@{http\_vars.c}!iammeter\_read@{iammeter\_read}}
\index{iammeter\_read@{iammeter\_read}!http\_vars.c@{http\_vars.c}}
\doxysubsubsection{\texorpdfstring{iammeter\_read()}{iammeter\_read()}}
{\footnotesize\ttfamily \label{http__vars_8c_a34d485627939300ea5e51b765f599b9a} 
void iammeter\+\_\+read (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00076\ \{}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ \mbox{\hyperlink{http__vars_8c_a6a59594ba3469ec6a1d56f6631e275e0}{curl}}\ =\ curl\_easy\_init();}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{http__vars_8c_a6a59594ba3469ec6a1d56f6631e275e0}{curl}})\ \{}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{energy_8c_aae3805c63e28abac1e41ffd7b623596e}{E}}.link.iammeter\_count++;}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ curl\_easy\_setopt(\mbox{\hyperlink{http__vars_8c_a6a59594ba3469ec6a1d56f6631e275e0}{curl}},\ CURLOPT\_URL,\ \textcolor{stringliteral}{"{}http://10.1.1.101/monitorjson"{}});}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ curl\_easy\_setopt(\mbox{\hyperlink{http__vars_8c_a6a59594ba3469ec6a1d56f6631e275e0}{curl}},\ CURLOPT\_WRITEFUNCTION,\ \mbox{\hyperlink{energy_8h_a29cd5a6b609c70451dc93083c9244125}{iammeter\_write\_callback}});}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ curl\_easy\_setopt(\mbox{\hyperlink{http__vars_8c_a6a59594ba3469ec6a1d56f6631e275e0}{curl}},\ CURLOPT\_WRITEDATA,\ \mbox{\hyperlink{energy_8c_aae3805c63e28abac1e41ffd7b623596e}{E}}.print\_vars);\ \textcolor{comment}{//\ external\ data\ array\ for\ iammeter\ values}}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{http__vars_8c_acf1ea240303dba3184f1f87a13202862}{res}}\ =\ curl\_easy\_perform(\mbox{\hyperlink{http__vars_8c_a6a59594ba3469ec6a1d56f6631e275e0}{curl}});}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Check\ for\ errors\ */}}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{http__vars_8c_acf1ea240303dba3184f1f87a13202862}{res}}\ !=\ CURLE\_OK)\ \{}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ fprintf(\mbox{\hyperlink{energy_8c_acec19516a59050bb447192fe318e6a9c}{fout}},\ \textcolor{stringliteral}{"{}curl\_easy\_perform()\ failed\ in\ iammeter\_read:\ \%s\(\backslash\)n"{}},}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ curl\_easy\_strerror(\mbox{\hyperlink{http__vars_8c_acf1ea240303dba3184f1f87a13202862}{res}}));}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{energy_8c_aae3805c63e28abac1e41ffd7b623596e}{E}}.iammeter\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{energy_8c_aae3805c63e28abac1e41ffd7b623596e}{E}}.link.iammeter\_error++;}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{energy_8c_aae3805c63e28abac1e41ffd7b623596e}{E}}.iammeter\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ curl\_easy\_cleanup(\mbox{\hyperlink{http__vars_8c_a6a59594ba3469ec6a1d56f6631e275e0}{curl}});}
\DoxyCodeLine{00096\ \ \ \ \ \}}
\DoxyCodeLine{00097\ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{http__vars_8c_a34d485627939300ea5e51b765f599b9a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=249pt]{http__vars_8c_a34d485627939300ea5e51b765f599b9a_icgraph}
\end{center}
\end{figure}
\Hypertarget{http__vars_8c_aabb25f42dea94453d721073f265c0063}\index{http\_vars.c@{http\_vars.c}!iammeter\_write\_callback@{iammeter\_write\_callback}}
\index{iammeter\_write\_callback@{iammeter\_write\_callback}!http\_vars.c@{http\_vars.c}}
\doxysubsubsection{\texorpdfstring{iammeter\_write\_callback()}{iammeter\_write\_callback()}}
{\footnotesize\ttfamily \label{http__vars_8c_aabb25f42dea94453d721073f265c0063} 
size\+\_\+t iammeter\+\_\+write\+\_\+callback (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{buffer}{, }\item[{size\+\_\+t}]{size}{, }\item[{size\+\_\+t}]{nitems}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{stream}{}\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00014\ \{}
\DoxyCodeLine{00015\ \ \ \ \ cJSON\ *json\ =\ cJSON\_ParseWithLength(buffer,\ strlen(buffer));}
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structenergy__type}{energy\_type}}\ *\ e\ =\ stream;}
\DoxyCodeLine{00017\ \ \ \ \ uint32\_t\ next\_var\ =\ 0;}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \ \ \ \ \mbox{\hyperlink{energy_8c_aae3805c63e28abac1e41ffd7b623596e}{E}}.link.iammeter\_count++;}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keywordflow}{if}\ (json\ ==\ NULL)\ \{}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *error\_ptr\ =\ cJSON\_GetErrorPtr();}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{energy_8c_aae3805c63e28abac1e41ffd7b623596e}{E}}.link.iammeter\_error++;}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (error\_ptr\ !=\ NULL)\ \{}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \ \ \ \ fprintf(\mbox{\hyperlink{energy_8c_acec19516a59050bb447192fe318e6a9c}{fout}},\ \textcolor{stringliteral}{"{}Error\ in\ iammeter\_write\_callback\ \%u:\ \%s\(\backslash\)n"{}},\ \mbox{\hyperlink{energy_8c_aae3805c63e28abac1e41ffd7b623596e}{E}}.link.iammeter\_error,\ error\_ptr);}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{goto}\ iammeter\_exit;}
\DoxyCodeLine{00028\ \ \ \ \ \}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#ifdef\ IM\_DEBUG}}
\DoxyCodeLine{00030\ \ \ \ \ fprintf(\mbox{\hyperlink{energy_8c_acec19516a59050bb447192fe318e6a9c}{fout}},\ \textcolor{stringliteral}{"{}\(\backslash\)n\ iammeter\_read\_callback\ \%s\ \(\backslash\)n"{}},\ buffer);}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ cJSON\ *data\_result\ =\ cJSON\_GetObjectItemCaseSensitive(json,\ \textcolor{stringliteral}{"{}Datas"{}});}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordflow}{if}\ (!data\_result)\ \{}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ size\ =\ 0;}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ nitems\ =\ 0;}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{goto}\ iammeter\_exit;}
\DoxyCodeLine{00039\ \ \ \ \ \}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ cJSON\ *jname;}
\DoxyCodeLine{00042\ \ \ \ \ uint32\_t\ phase\ =\ \mbox{\hyperlink{energy_8h_a43ff9d577152831837f2de48199c0323a8825a1a26ae9bf551b490741d7ae280a}{PHASE\_A}};}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ cJSON\_ArrayForEach(jname,\ data\_result)}
\DoxyCodeLine{00045\ \ \ \ \ \{}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ cJSON\ *ianame;}
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\#ifdef\ IM\_DEBUG}}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ fprintf(\mbox{\hyperlink{energy_8c_acec19516a59050bb447192fe318e6a9c}{fout}},\ \textcolor{stringliteral}{"{}\(\backslash\)n\ iammeter\ variables\ "{}});}
\DoxyCodeLine{00049\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ cJSON\_ArrayForEach(ianame,\ jname)}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ uint32\_t\ phase\_var\ =\ \mbox{\hyperlink{energy_8h_a9221f2a245e5eb6eb3034802aa882184a6ee579d3dc53ac798b03bf17c52e7da0}{IA\_VOLTAGE}};}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{http__vars_8c_adbf9cd5b8ee26136ef6d0b4f954e64be}{iammeter\_get\_data}}(ianame-\/>valuedouble,\ phase\_var,\ phase);}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ e-\/>\mbox{\hyperlink{structenergy__type_aa7198c879bedfbb1db35874b4ef079dd}{print\_vars}}[next\_var++]\ =\ ianame-\/>valuedouble;}
\DoxyCodeLine{00056\ \textcolor{preprocessor}{\#ifdef\ IM\_DEBUG}}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ fprintf(\mbox{\hyperlink{energy_8c_acec19516a59050bb447192fe318e6a9c}{fout}},\ \textcolor{stringliteral}{"{}\%8.2f\ "{}},\ \mbox{\hyperlink{structenergy__type_a61e594f5bba7e386b9bc2dee37eabb56}{im\_vars}}[phase\_var][phase]);}
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ phase\_var++;}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ phase++;}
\DoxyCodeLine{00062\ \ \ \ \ \}}
\DoxyCodeLine{00063\ \textcolor{preprocessor}{\#ifdef\ IM\_DEBUG}}
\DoxyCodeLine{00064\ \ \ \ \ fprintf(\mbox{\hyperlink{energy_8c_acec19516a59050bb447192fe318e6a9c}{fout}},\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{00065\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ iammeter\_exit:}
\DoxyCodeLine{00068\ \ \ \ \ cJSON\_Delete(json);}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keywordflow}{return}\ size\ *\ nitems;}
\DoxyCodeLine{00070\ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{http__vars_8c_aabb25f42dea94453d721073f265c0063_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{http__vars_8c_aabb25f42dea94453d721073f265c0063_icgraph}
\end{center}
\end{figure}
\Hypertarget{http__vars_8c_addadf78316d3819a2b8fc271ffd97fc9}\index{http\_vars.c@{http\_vars.c}!mqtt\_gti\_time@{mqtt\_gti\_time}}
\index{mqtt\_gti\_time@{mqtt\_gti\_time}!http\_vars.c@{http\_vars.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_gti\_time()}{mqtt\_gti\_time()}}
{\footnotesize\ttfamily \label{http__vars_8c_addadf78316d3819a2b8fc271ffd97fc9} 
bool mqtt\+\_\+gti\+\_\+time (\begin{DoxyParamCaption}\item[{MQTTClient}]{client\+\_\+p}{, }\item[{const char \texorpdfstring{$\ast$}{*}}]{topic\+\_\+p}{, }\item[{char \texorpdfstring{$\ast$}{*}}]{msg}{}\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00249\ \{}
\DoxyCodeLine{00250\ \ \ \ \ \textcolor{keywordtype}{bool}\ ret\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00251\ \ \ \ \ MQTTClient\_message\ pubmsg\ =\ MQTTClient\_message\_initializer;}
\DoxyCodeLine{00252\ \ \ \ \ MQTTClient\_deliveryToken\ token;}
\DoxyCodeLine{00253\ \ \ \ \ \mbox{\hyperlink{energy_8c_a300fe8f759de831a9cf50f5a86c85e23}{ha\_flag\_vars\_ss}}.deliveredtoken\ =\ 0;}
\DoxyCodeLine{00254\ }
\DoxyCodeLine{00255\ \ \ \ \ \mbox{\hyperlink{energy_8c_aae3805c63e28abac1e41ffd7b623596e}{E}}.link.mqtt\_count++;}
\DoxyCodeLine{00256\ \ \ \ \ pubmsg.payload\ =\ msg;}
\DoxyCodeLine{00257\ \ \ \ \ pubmsg.payloadlen\ =\ strlen(msg);}
\DoxyCodeLine{00258\ \ \ \ \ pubmsg.qos\ =\ \mbox{\hyperlink{energy_8h_a1e5759eb3f87b00bf4acf6579f9034d5}{QOS}};}
\DoxyCodeLine{00259\ \ \ \ \ pubmsg.retained\ =\ 0;}
\DoxyCodeLine{00260\ }
\DoxyCodeLine{00261\ \ \ \ \ MQTTClient\_publishMessage(client\_p,\ topic\_p,\ \&pubmsg,\ \&token);\ \textcolor{comment}{//\ run\ time\ commands}}
\DoxyCodeLine{00262\ }
\DoxyCodeLine{00263\ \ \ \ \ \textcolor{comment}{//\ a\ busy,\ wait\ loop\ for\ the\ async\ delivery\ thread\ to\ complete}}
\DoxyCodeLine{00264\ \ \ \ \ \{}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ uint32\_t\ waiting\ =\ 0;}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{energy_8c_a300fe8f759de831a9cf50f5a86c85e23}{ha\_flag\_vars\_ss}}.deliveredtoken\ !=\ token)\ \{}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ usleep(\mbox{\hyperlink{mqtt__vars_8h_a3b56fe91c8a470ff1bb013066d4c38ea}{GTI\_TOKEN\_DELAY}});}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (waiting++\ >\ \mbox{\hyperlink{energy_8h_adc31fee63bd07cbfbb61fd111b95fa99}{MQTT\_TIMEOUT}})\ \{}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fprintf(\mbox{\hyperlink{energy_8c_acec19516a59050bb447192fe318e6a9c}{fout}},\ \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n\%s\ GTI\ Time\ Still\ Waiting,\ timeout\(\backslash\)r\(\backslash\)n"{}},\ \mbox{\hyperlink{energy_8c_a18b19ee666a9edc39d904a474ddee1d9}{log\_time}}(\textcolor{keyword}{false}));}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00273\ \ \ \ \ \}}
\DoxyCodeLine{00274\ \ \ \ \ usleep(\mbox{\hyperlink{mqtt__vars_8h_a172e6f71f2afd9c262e77086d452abec}{HA\_SW\_DELAY}});}
\DoxyCodeLine{00275\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{00276\ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=261pt]{http__vars_8c_addadf78316d3819a2b8fc271ffd97fc9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{http__vars_8c_addadf78316d3819a2b8fc271ffd97fc9_icgraph}
\end{center}
\end{figure}
\Hypertarget{http__vars_8c_a8b0aebb679cfaa2c1c7f70e477e396a5}\index{http\_vars.c@{http\_vars.c}!print\_im\_vars@{print\_im\_vars}}
\index{print\_im\_vars@{print\_im\_vars}!http\_vars.c@{http\_vars.c}}
\doxysubsubsection{\texorpdfstring{print\_im\_vars()}{print\_im\_vars()}}
{\footnotesize\ttfamily \label{http__vars_8c_a8b0aebb679cfaa2c1c7f70e477e396a5} 
void print\+\_\+im\+\_\+vars (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00111\ \{}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{char}\ time\_log[\mbox{\hyperlink{energy_8h_a0c85192a1fc4b17a7c63d0c0f6f61625}{RBUF\_SIZ}}]\ =\ \{0\};}
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keyword}{static}\ uint32\_t\ sync\_time\ =\ \mbox{\hyperlink{energy_8h_ae1b9e27b004bee7dcaecf4ee4778e0bd}{TIME\_SYNC\_SEC}}\ -\/\ 1;}
\DoxyCodeLine{00114\ \ \ \ \ time\_t\ rawtime\_log;}
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keywordtype}{char}\ imvars[\mbox{\hyperlink{energy_8h_a52c3aaa9470287b78eee2ca241454fcb}{SYSLOG\_SIZ}}];}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \ \ fflush(\mbox{\hyperlink{energy_8c_acec19516a59050bb447192fe318e6a9c}{fout}});}
\DoxyCodeLine{00118\ \ \ \ \ snprintf(imvars,\ \mbox{\hyperlink{energy_8h_a52c3aaa9470287b78eee2ca241454fcb}{SYSLOG\_SIZ}}-\/1,\ \textcolor{stringliteral}{"{}House\ L1\ \%7.2fW,\ House\ L2\ \%7.2fW,\ GTI\ L1\ \%7.2fW"{}},\ \mbox{\hyperlink{energy_8c_aae3805c63e28abac1e41ffd7b623596e}{E}}.print\_vars[\mbox{\hyperlink{energy_8h_afddaf9e33dbc732f31ced2b378f11748}{L1\_P}}],\ \mbox{\hyperlink{energy_8c_aae3805c63e28abac1e41ffd7b623596e}{E}}.print\_vars[\mbox{\hyperlink{energy_8h_a492bcf1cf0c61ce5dfbf5d1825b09946}{L2\_P}}],\ \mbox{\hyperlink{energy_8c_aae3805c63e28abac1e41ffd7b623596e}{E}}.print\_vars[\mbox{\hyperlink{energy_8h_a5a73f316e17083fb4d7cbf348494322a}{L3\_P}}]);}
\DoxyCodeLine{00119\ \ \ \ \ fprintf(\mbox{\hyperlink{energy_8c_acec19516a59050bb447192fe318e6a9c}{fout}},\ \textcolor{stringliteral}{"{}\%s"{}},\ imvars);}
\DoxyCodeLine{00120\ \ \ \ \ fflush(\mbox{\hyperlink{energy_8c_acec19516a59050bb447192fe318e6a9c}{fout}});}
\DoxyCodeLine{00121\ \ \ \ \ time(\&rawtime\_log);}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keywordflow}{if}\ (sync\_time++\ >\ \mbox{\hyperlink{energy_8h_ae1b9e27b004bee7dcaecf4ee4778e0bd}{TIME\_SYNC\_SEC}})\ \{}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ sync\_time\ =\ 0;}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ snprintf(time\_log,\ \mbox{\hyperlink{energy_8h_a0c85192a1fc4b17a7c63d0c0f6f61625}{RBUF\_SIZ}}\ -\/\ 1,\ \textcolor{stringliteral}{"{}VT\%lut"{}},\ rawtime\_log);\ \textcolor{comment}{//\ format\ for\ dumpload\ controller\ gti\ time\ commands}}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{http__vars_8c_addadf78316d3819a2b8fc271ffd97fc9}{mqtt\_gti\_time}}(\mbox{\hyperlink{energy_8c_aae3805c63e28abac1e41ffd7b623596e}{E}}.client\_p,\ \mbox{\hyperlink{energy_8h_a8170bc07eb3b7f53bb8bfea780ebfdd8}{TOPIC\_P}},\ time\_log);}
\DoxyCodeLine{00126\ \ \ \ \ \}}
\DoxyCodeLine{00127\ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{http__vars_8c_a8b0aebb679cfaa2c1c7f70e477e396a5_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=240pt]{http__vars_8c_a8b0aebb679cfaa2c1c7f70e477e396a5_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\Hypertarget{http__vars_8c_a6a59594ba3469ec6a1d56f6631e275e0}\index{http\_vars.c@{http\_vars.c}!curl@{curl}}
\index{curl@{curl}!http\_vars.c@{http\_vars.c}}
\doxysubsubsection{\texorpdfstring{curl}{curl}}
{\footnotesize\ttfamily \label{http__vars_8c_a6a59594ba3469ec6a1d56f6631e275e0} 
CURL\texorpdfstring{$\ast$}{*} curl\hspace{0.3cm}{\ttfamily [static]}}

\Hypertarget{http__vars_8c_acf1ea240303dba3184f1f87a13202862}\index{http\_vars.c@{http\_vars.c}!res@{res}}
\index{res@{res}!http\_vars.c@{http\_vars.c}}
\doxysubsubsection{\texorpdfstring{res}{res}}
{\footnotesize\ttfamily \label{http__vars_8c_acf1ea240303dba3184f1f87a13202862} 
CURLcode res\hspace{0.3cm}{\ttfamily [static]}}

